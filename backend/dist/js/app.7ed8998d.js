(function(){"use strict";var e={9218:function(e,t,i){var s=i(5130),a=i(6768);const l={id:"app"};function o(e,t,i,s,o,n){const r=(0,a.g2)("router-view");return(0,a.uX)(),(0,a.CE)("div",l,[(0,a.bF)(r)])}var n={name:"App"},r=i(1241);const c=(0,r.A)(n,[["render",o]]);var d=c,u=i(1387);const p=e=>((0,a.Qi)("data-v-40e35637"),e=e(),(0,a.jt)(),e),m={class:"home"},h=p((()=>(0,a.Lk)("h1",null,"Microfluidic Droplets Identification and Analysis (MDIA)",-1))),g={class:"modules-container"},f=p((()=>(0,a.Lk)("h2",null,"Machine Identification",-1))),v=p((()=>(0,a.Lk)("p",null,"Upload and identify microfluidic droplets with our powerful tool.",-1))),k=[f,v],L=p((()=>(0,a.Lk)("div",{class:"image-container"},[(0,a.Lk)("img",{src:"/out.gif",alt:"Image Recognition"})],-1))),y=p((()=>(0,a.Lk)("div",{class:"image-container"},[(0,a.Lk)("img",{src:"/Transfer Learning.jpg",alt:"Other Module"})],-1))),b=p((()=>(0,a.Lk)("h2",null,"Transfer Learning",-1))),S=p((()=>(0,a.Lk)("p",null,"Explore more features for various functionalities.",-1))),C=[b,S];function I(e,t,i,s,l,o){return(0,a.uX)(),(0,a.CE)("div",m,[h,(0,a.Lk)("div",g,[(0,a.Lk)("div",{class:"module",onClick:t[0]||(t[0]=e=>o.navigateTo("MachineIdentification"))},k),L,y,(0,a.Lk)("div",{class:"module",onClick:t[1]||(t[1]=e=>o.navigateTo("TransferLearning"))},C)])])}i(4114);var w={name:"HomePage",methods:{navigateTo(e){this.$router.push({name:e})}}};const E=(0,r.A)(w,[["render",I],["__scopeId","data-v-40e35637"]]);var z=E,$=i(4232);const A=e=>((0,a.Qi)("data-v-57dcb3d8"),e=e(),(0,a.jt)(),e),D={class:"home"},F={key:0,class:"options-container"},M={class:"option"},R={class:"checkbox-container"},U=A((()=>(0,a.Lk)("label",{for:"single-cell-checkbox"},"Single-cell encapsulated",-1))),X={key:1,class:"options-container"},V={key:2},P=A((()=>(0,a.Lk)("h1",null,"Please upload an image or video",-1))),_={class:"modules-container"},q={class:"module"},B=(0,a.Fv)('<p class="description" data-v-57dcb3d8><strong data-v-57dcb3d8>Instructions:</strong> First, click <strong data-v-57dcb3d8>&quot;Select an image or video&quot;</strong> and choose your file in the pop-up selection box. Once confirmed, click <strong data-v-57dcb3d8>&quot;Upload&quot;</strong> to proceed with the upload.<br data-v-57dcb3d8><strong data-v-57dcb3d8>Note:</strong> It is recommended to upload images with a resolution of at least <strong data-v-57dcb3d8>1000×1000</strong> and a size of less than <strong data-v-57dcb3d8>3MB</strong>. </p>',1),T={class:"content"},x={class:"button-container"},Q={key:0},O={key:1,class:"images-container"},j={key:0,class:"image-wrapper"},K=A((()=>(0,a.Lk)("h3",null,"Original File:",-1))),H=["src"],J=["src"],N={key:2},W=["disabled"];function G(e,t,i,l,o,n){return(0,a.uX)(),(0,a.CE)("div",D,[1===o.step?((0,a.uX)(),(0,a.CE)("div",F,[(0,a.Lk)("div",M,[(0,a.Lk)("div",{onClick:t[0]||(t[0]=e=>n.selectMode("Cell encapsulation"))},"Cell encapsulation"),(0,a.Lk)("div",R,[(0,a.bo)((0,a.Lk)("input",{type:"checkbox","onUpdate:modelValue":t[1]||(t[1]=e=>o.isSingleCellEncapsulated=e),id:"single-cell-checkbox"},null,512),[[s.lH,o.isSingleCellEncapsulated]]),U])]),(0,a.Lk)("div",{class:"option",onClick:t[2]||(t[2]=e=>n.selectMode("Double emulsion"))},"Double emulsion"),(0,a.Lk)("div",{class:"option",onClick:t[3]||(t[3]=e=>n.selectMode("Single droplet"))},"Single droplet")])):(0,a.Q3)("",!0),2===o.step&&"Single droplet"===o.selectedMode?((0,a.uX)(),(0,a.CE)("div",X,[(0,a.Lk)("div",{class:"option",onClick:t[4]||(t[4]=e=>n.selectAlgorithm("Deformable DETR"))},"Deformable DETR"),(0,a.Lk)("div",{class:"option",onClick:t[5]||(t[5]=e=>n.selectAlgorithm("Edge detection"))},"Edge detection"),(0,a.Lk)("button",{onClick:t[6]||(t[6]=(...e)=>n.goBack&&n.goBack(...e)),class:"back-button"},"Back")])):(0,a.Q3)("",!0),3===o.step||2===o.step&&"Single droplet"!==o.selectedMode?((0,a.uX)(),(0,a.CE)("div",V,[P,(0,a.Lk)("div",_,[(0,a.Lk)("div",q,[B,(0,a.Lk)("input",{type:"file",accept:"image/bmp,image/jpeg,image/jpg,image/png,image/tiff,image/tif,video/mp4,video/avi,video/webm",onChange:t[7]||(t[7]=(...e)=>n.onFileChange&&n.onFileChange(...e)),class:"file-input",ref:"fileInput"},null,544),(0,a.Lk)("div",T,[(0,a.Lk)("div",x,[(0,a.Lk)("button",{onClick:t[8]||(t[8]=(...e)=>n.triggerFileInput&&n.triggerFileInput(...e))},"Select an image or video"),(0,a.Lk)("button",{onClick:t[9]||(t[9]=(...e)=>n.uploadFile&&n.uploadFile(...e))},"Upload")]),o.selectedFile?((0,a.uX)(),(0,a.CE)("p",Q,"Selected file: "+(0,$.v_)(o.selectedFile.name),1)):(0,a.Q3)("",!0),o.imageUrl||o.processedImageUrl?((0,a.uX)(),(0,a.CE)("div",O,[o.imageUrl?((0,a.uX)(),(0,a.CE)("div",j,[K,o.isImage?((0,a.uX)(),(0,a.CE)("img",{key:0,src:o.imageUrl,alt:"Original File",class:"preview-image"},null,8,H)):(0,a.Q3)("",!0),o.isVideo?((0,a.uX)(),(0,a.CE)("video",{key:1,src:o.imageUrl,controls:"",class:"preview-video"},null,8,J)):(0,a.Q3)("",!0),o.fileInfo?((0,a.uX)(),(0,a.CE)("p",N,(0,$.v_)(o.fileInfo),1)):(0,a.Q3)("",!0)])):(0,a.Q3)("",!0)])):(0,a.Q3)("",!0),(0,a.Lk)("button",{onClick:t[10]||(t[10]=(...e)=>n.goBackFromUpload&&n.goBackFromUpload(...e)),class:"back-button"},"Back"),(0,a.Lk)("button",{onClick:t[11]||(t[11]=(...e)=>n.analyzeFile&&n.analyzeFile(...e)),class:"analysis-button",disabled:!o.isUploaded},"Analysis",8,W)])])])])):(0,a.Q3)("",!0)])}i(4603),i(7566),i(8721);var Y=i(4373),Z={name:"ImageRecognition",data(){return{step:1,selectedMode:null,selectedAlgorithm:null,selectedFile:null,imageUrl:null,fileInfo:null,processedImageUrl:null,uploadedFilename:null,isImage:!1,isVideo:!1,isSingleCellEncapsulated:!1,isUploaded:!1}},methods:{selectMode(e){"Cell encapsulation"===e?this.isSingleCellEncapsulated?this.selectedMode="Single-cell encapsulated":this.selectedMode="Cell encapsulation":this.selectedMode=e,this.step="Single droplet"===e?2:3,console.log("Selected mode:",this.selectedMode)},selectAlgorithm(e){this.selectedAlgorithm=e,this.step=3},goBack(){this.step=1},goBackFromUpload(){"Single droplet"===this.selectedMode?this.step=2:this.step=1},triggerFileInput(){this.$refs.fileInput.click()},onFileChange(e){if(this.selectedFile=e.target.files[0],this.isUploaded=!1,this.selectedFile){this.imageUrl=URL.createObjectURL(this.selectedFile);const e=this.selectedFile.type.split("/")[0];if(this.isImage="image"===e,this.isVideo="video"===e,this.isImage){const e=new Image;e.onload=()=>{const t=e.width,i=e.height,s=(this.selectedFile.size/1024).toFixed(2);this.fileInfo=`Resolution: ${t}x${i}, Size: ${s} KB`},e.src=this.imageUrl}else if(this.isVideo){const e=document.createElement("video");e.onloadedmetadata=()=>{const t=e.videoWidth,i=e.videoHeight,s=(this.selectedFile.size/1024).toFixed(2);this.fileInfo=`Resolution: ${t}x${i}, Size: ${s} KB`},e.src=this.imageUrl}}},async uploadFile(){if(!this.selectedFile)return void alert("Please select a file first");const e=new FormData;e.append("file",this.selectedFile),e.append("mode",this.selectedMode),"Single droplet"===this.selectedMode&&e.append("algorithm",this.selectedAlgorithm);try{const t=await Y.A.post("/api/upload",e,{headers:{"Content-Type":"multipart/form-data"},timeout:6e4});alert(`File "${this.selectedFile.name}" is successfully uploaded!`),console.log(t.data),this.uploadedFilename=t.data.file_path,this.isUploaded=!0}catch(t){alert("Failed to upload file"),console.error(t),t.response?(console.error("Response data:",t.response.data),console.error("Response status:",t.response.status),console.error("Response headers:",t.response.headers)):t.request?console.error("Request data:",t.request):console.error("Error message:",t.message)}},analyzeFile(){if(this.isImage||this.isVideo){const e=this.isImage?"ImageAnalysis":"VideoAnalysis";this.$router.push({name:e,query:{selectedMode:this.selectedMode,selectedAlgorithm:this.selectedAlgorithm,filename:this.uploadedFilename}})}else alert("Please select a valid file first.")}}};const ee=(0,r.A)(Z,[["render",G],["__scopeId","data-v-57dcb3d8"]]);var te=ee;const ie=e=>((0,a.Qi)("data-v-c68d1d7c"),e=e(),(0,a.jt)(),e),se={class:"home"},ae=ie((()=>(0,a.Lk)("h1",null,"Other Module",-1))),le=ie((()=>(0,a.Lk)("p",null,"This is the other module page.",-1))),oe=[ae,le];function ne(e,t,i,s,l,o){return(0,a.uX)(),(0,a.CE)("div",se,oe)}var re={name:"OtherModule"};const ce=(0,r.A)(re,[["render",ne],["__scopeId","data-v-c68d1d7c"]]);var de=ce;const ue=e=>((0,a.Qi)("data-v-7c5788a1"),e=e(),(0,a.jt)(),e),pe={class:"image-analysis"},me=ue((()=>(0,a.Lk)("h1",null,"Image Analysis",-1))),he={class:"parameter-module"},ge=ue((()=>(0,a.Lk)("h2",null,"User-defined parameters",-1))),fe={class:"form-group"},ve=ue((()=>(0,a.Lk)("label",{for:"actual-size"},"Actual size per pixel:",-1))),ke=ue((()=>(0,a.Lk)("option",{value:"mm"},"mm",-1))),Le=ue((()=>(0,a.Lk)("option",{value:"μm"},"μm",-1))),ye=ue((()=>(0,a.Lk)("option",{value:"nm"},"nm",-1))),be=ue((()=>(0,a.Lk)("option",{value:"cm"},"cm",-1))),Se=[ke,Le,ye,be],Ce={class:"buttons-container"},Ie={class:"main-buttons"},we={key:0,class:"mode-description-module"},Ee={key:1,class:"result-module"},ze=ue((()=>(0,a.Lk)("h2",null,"Identify the results",-1))),$e={class:"images-container"},Ae=["src"],De={key:2,class:"result-module"},Fe=ue((()=>(0,a.Lk)("h2",null,"Statistical results",-1))),Me={class:"result-table"},Re={key:3,class:"no-data"},Ue={key:4,class:"loading-overlay"},Xe=ue((()=>(0,a.Lk)("div",{class:"loading-content"},[(0,a.Lk)("p",null,"Loading..."),(0,a.Lk)("div",{class:"spinner"})],-1))),Ve=[Xe];function Pe(e,t,i,l,o,n){return(0,a.uX)(),(0,a.CE)("div",pe,[me,(0,a.Lk)("div",he,[ge,(0,a.Lk)("div",fe,[ve,(0,a.bo)((0,a.Lk)("input",{type:"number","onUpdate:modelValue":t[0]||(t[0]=e=>o.actualSize=e),id:"actual-size",name:"actual-size",min:"0.1",step:"0.1",onInput:t[1]||(t[1]=(...e)=>n.updateParameters&&n.updateParameters(...e)),onBlur:t[2]||(t[2]=(...e)=>n.validateActualSize&&n.validateActualSize(...e))},null,544),[[s.Jo,o.actualSize]]),(0,a.bo)((0,a.Lk)("select",{"onUpdate:modelValue":t[3]||(t[3]=e=>o.unit=e),id:"unit",name:"unit",onChange:t[4]||(t[4]=(...e)=>n.updateParameters&&n.updateParameters(...e))},Se,544),[[s.u1,o.unit]])])]),(0,a.Lk)("div",Ce,[(0,a.Lk)("div",Ie,[(0,a.Lk)("button",{onClick:t[5]||(t[5]=(...e)=>n.visualizationResults&&n.visualizationResults(...e))},"Visualization results"),(0,a.Lk)("button",{onClick:t[6]||(t[6]=(...e)=>n.statisticalResults&&n.statisticalResults(...e))},"Statistical results")]),(0,a.Lk)("button",{onClick:t[7]||(t[7]=(...e)=>n.goBack&&n.goBack(...e)),class:"back-button"},"Back")]),o.modeDescriptions.length?((0,a.uX)(),(0,a.CE)("div",we,[(0,a.Lk)("h2",null,"Pattern identification: "+(0,$.v_)(o.selectedMode),1),(0,a.Lk)("div",null,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(o.modeDescriptions,((e,t)=>((0,a.uX)(),(0,a.CE)("p",{key:t},(0,$.v_)(e),1)))),128))])])):(0,a.Q3)("",!0),o.showVisualizationResults?((0,a.uX)(),(0,a.CE)("div",Ee,[ze,(0,a.Lk)("div",$e,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(o.resultImageUrls,((e,i)=>((0,a.uX)(),(0,a.CE)("img",{key:i,src:e,alt:"识别结果",class:"result-image",onError:t[8]||(t[8]=(...e)=>n.handleImageError&&n.handleImageError(...e))},null,40,Ae)))),128))])])):(0,a.Q3)("",!0),Array.isArray(o.statisticsData)&&o.statisticsData.length>1?((0,a.uX)(),(0,a.CE)("div",De,[Fe,(0,a.Lk)("div",null,[(0,a.Lk)("table",Me,[(0,a.Lk)("thead",null,[(0,a.Lk)("tr",null,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(o.statisticsData[0],((e,t)=>((0,a.uX)(),(0,a.CE)("th",{key:t},(0,$.v_)(e),1)))),128))])]),(0,a.Lk)("tbody",null,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(o.statisticsData.slice(1),((e,t)=>((0,a.uX)(),(0,a.CE)("tr",{key:t},[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e,((e,t)=>((0,a.uX)(),(0,a.CE)("td",{key:t},(0,$.v_)(e),1)))),128))])))),128))])])])])):((0,a.uX)(),(0,a.CE)("div",Re)),o.isLoading?((0,a.uX)(),(0,a.CE)("div",Ue,Ve)):(0,a.Q3)("",!0)])}var _e={name:"ImageAnalysis",props:{selectedAlgorithm:{type:String,required:!1},filename:{type:String,required:!0}},data(){return{actualSize:1,unit:"mm",showVisualizationResults:!1,showStatisticalResults:!1,resultImageUrls:[],statisticsData:[],selectedMode:this.$route.query.selectedMode||this.selectedMode,modeDescriptions:[],isLoading:!1}},methods:{handleImageError(e){e.target.src="path/to/default-image.jpg",console.error("Failed to load image:",e.target.src)},updateModeDescriptions(e=0,t=0){const i=this.selectedMode;this.modeDescriptions="Cell encapsulation"===i?[`Droplet with cell: ${e}`,`Droplet without cell: ${t}`]:"Single-cell encapsulated"===i?[`Droplet with Single cell: ${e}`,`Droplet without cell: ${t}`]:"Double emulsion"===i?[`Double emulsion droplets: ${e}`,`Single droplets: ${t}`]:"Single droplet"===i?[`Single droplets: ${t}`]:[],console.log("Updated modeDescriptions:",this.modeDescriptions)},updateParameters(){console.log(`Actual Size per Pixel: ${this.actualSize}, Unit: ${this.unit}`)},validateActualSize(){this.actualSize<.1&&(this.actualSize=.1)},goBack(){this.$router.push({name:"MachineIdentification"})},async visualizationResults(){console.log("filename:",this.$route.query.filename),console.log("mode:",this.$route.query.selectedMode),console.log("algorithm:",this.$route.query.selectedAlgorithm),this.isLoading=!0;const e={filename:this.$route.query.filename,selectedMode:this.$route.query.selectedMode,selectedAlgorithm:this.$route.query.selectedAlgorithm,actualSize:this.actualSize,unit:this.unit};try{const t=await Y.A.post("/api/img_visualize",e);console.log("Response data:",t.data),this.resultImageUrls=t.data.image_names;const i=t.data.withcount,s=t.data.withoutcount;this.updateModeDescriptions(i,s),console.log("resultImageUrls:",this.resultImageUrls),this.showVisualizationResults=!0}catch(t){console.error("Visualization failed:",t)}finally{this.isLoading=!1}},async statisticalResults(){this.isLoading=!0;const e={filename:this.$route.query.filename,selectedMode:this.$route.query.selectedMode,selectedAlgorithm:this.$route.query.selectedAlgorithm,actualSize:this.actualSize,unit:this.unit};try{const t=await Y.A.post("/api/img_statistics",e),i=t.data.withcount,s=t.data.withoutcount;this.updateModeDescriptions(i,s),this.statisticsData=t.data.statistics,this.showStatisticalResults=!0}catch(t){console.error("Statistics failed:",t)}finally{this.isLoading=!1}}}};const qe=(0,r.A)(_e,[["render",Pe],["__scopeId","data-v-7c5788a1"]]);var Be=qe;const Te=e=>((0,a.Qi)("data-v-5b3b6066"),e=e(),(0,a.jt)(),e),xe={class:"video-analysis"},Qe=Te((()=>(0,a.Lk)("h1",null,"Video Analysis",-1))),Oe={class:"parameter-module"},je=Te((()=>(0,a.Lk)("h2",null,"User-defined parameters",-1))),Ke={class:"parameters-grid"},He={class:"form-group"},Je=Te((()=>(0,a.Lk)("label",{for:"actual-size",class:"label"},"Actual size per pixel:",-1))),Ne={class:"input-group"},We=Te((()=>(0,a.Lk)("option",{value:"mm"},"mm",-1))),Ge=Te((()=>(0,a.Lk)("option",{value:"μm"},"μm",-1))),Ye=Te((()=>(0,a.Lk)("option",{value:"nm"},"nm",-1))),Ze=Te((()=>(0,a.Lk)("option",{value:"cm"},"cm",-1))),et=[We,Ge,Ye,Ze],tt={class:"form-group"},it=Te((()=>(0,a.Lk)("label",{for:"time-span",class:"label"},"Real time span of the video (seconds):",-1))),st={class:"form-group"},at=Te((()=>(0,a.Lk)("label",{for:"flow-direction",class:"label"},"Flow direction:",-1))),lt={class:"input-group flow-direction-group"},ot=Te((()=>(0,a.Lk)("option",{value:"left-to-right"},"Left to Right",-1))),nt=Te((()=>(0,a.Lk)("option",{value:"right-to-left"},"Right to Left",-1))),rt=Te((()=>(0,a.Lk)("option",{value:"top-to-bottom"},"Top to Bottom",-1))),ct=Te((()=>(0,a.Lk)("option",{value:"bottom-to-top"},"Bottom to Top",-1))),dt=[ot,nt,rt,ct],ut={class:"form-group"},pt=Te((()=>(0,a.Lk)("label",{for:"reference-line",class:"label"},"Reference line location (%):",-1))),mt={class:"buttons-container"},ht={class:"main-buttons"},gt={key:0,class:"mode-description-module"},ft={key:1,class:"result-module"},vt=Te((()=>(0,a.Lk)("h2",null,"Visualization results",-1))),kt=["src"],Lt={key:0,class:"images-container"},yt=["src"],bt={key:2,class:"result-module"},St=Te((()=>(0,a.Lk)("h2",null,"Statistical results",-1))),Ct={class:"result-table"},It={key:3,class:"loading-overlay"},wt=Te((()=>(0,a.Lk)("div",{class:"loading-content"},[(0,a.Lk)("p",null,"Loading..."),(0,a.Lk)("div",{class:"spinner"})],-1))),Et=[wt];function zt(e,t,i,l,o,n){return(0,a.uX)(),(0,a.CE)("div",xe,[Qe,(0,a.Lk)("div",Oe,[je,(0,a.Lk)("div",Ke,[(0,a.Lk)("div",He,[Je,(0,a.Lk)("div",Ne,[(0,a.bo)((0,a.Lk)("input",{type:"number","onUpdate:modelValue":t[0]||(t[0]=e=>o.actualSize=e),id:"actual-size",name:"actual-size",min:"0.1",step:"0.1",onInput:t[1]||(t[1]=(...e)=>n.updateParameters&&n.updateParameters(...e)),onBlur:t[2]||(t[2]=(...e)=>n.validateActualSize&&n.validateActualSize(...e))},null,544),[[s.Jo,o.actualSize]]),(0,a.bo)((0,a.Lk)("select",{"onUpdate:modelValue":t[3]||(t[3]=e=>o.unit=e),id:"unit",name:"unit",onChange:t[4]||(t[4]=(...e)=>n.updateParameters&&n.updateParameters(...e))},et,544),[[s.u1,o.unit]])])]),(0,a.Lk)("div",tt,[it,(0,a.bo)((0,a.Lk)("input",{type:"number","onUpdate:modelValue":t[5]||(t[5]=e=>o.timeSpan=e),id:"time-span",name:"time-span",min:"0.1",step:"0.1",onInput:t[6]||(t[6]=(...e)=>n.updateParameters&&n.updateParameters(...e)),onBlur:t[7]||(t[7]=(...e)=>n.validateTimeSpan&&n.validateTimeSpan(...e))},null,544),[[s.Jo,o.timeSpan]])]),(0,a.Lk)("div",st,[at,(0,a.Lk)("div",lt,[(0,a.bo)((0,a.Lk)("select",{"onUpdate:modelValue":t[8]||(t[8]=e=>o.flowDirection=e),id:"flow-direction",name:"flow-direction",onChange:t[9]||(t[9]=(...e)=>n.updateParameters&&n.updateParameters(...e))},dt,544),[[s.u1,o.flowDirection]])])]),(0,a.Lk)("div",ut,[pt,(0,a.bo)((0,a.Lk)("input",{type:"number","onUpdate:modelValue":t[10]||(t[10]=e=>o.referenceLine=e),id:"reference-line",name:"reference-line",min:"1",max:"99",onInput:t[11]||(t[11]=(...e)=>n.updateParameters&&n.updateParameters(...e)),onBlur:t[12]||(t[12]=(...e)=>n.validateReferenceLine&&n.validateReferenceLine(...e))},null,544),[[s.Jo,o.referenceLine]])])])]),(0,a.Lk)("div",mt,[(0,a.Lk)("div",ht,[(0,a.Lk)("button",{onClick:t[13]||(t[13]=(...e)=>n.visualizationResults&&n.visualizationResults(...e))},"Visualization results"),(0,a.Lk)("button",{onClick:t[14]||(t[14]=(...e)=>n.statisticalResults&&n.statisticalResults(...e))},"Statistical results")]),(0,a.Lk)("button",{onClick:t[15]||(t[15]=(...e)=>n.goBack&&n.goBack(...e)),class:"back-button"},"Back")]),o.modeDescriptions.length?((0,a.uX)(),(0,a.CE)("div",gt,[(0,a.Lk)("h2",null,"Pattern identification: "+(0,$.v_)(o.selectedMode),1),(0,a.Lk)("div",null,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(o.modeDescriptions,((e,t)=>((0,a.uX)(),(0,a.CE)("p",{key:t},(0,$.v_)(e),1)))),128))])])):(0,a.Q3)("",!0),o.showVisualizationResults?((0,a.uX)(),(0,a.CE)("div",ft,[vt,(0,a.Lk)("video",{src:o.processedVideoUrl,controls:"",class:"result-video"},null,8,kt),o.resultImageUrls.length?((0,a.uX)(),(0,a.CE)("div",Lt,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(o.resultImageUrls,((e,t)=>((0,a.uX)(),(0,a.CE)("img",{key:t,src:e,alt:"Result Image",class:"result-image"},null,8,yt)))),128))])):(0,a.Q3)("",!0)])):(0,a.Q3)("",!0),o.showStatisticalResults?((0,a.uX)(),(0,a.CE)("div",bt,[St,(0,a.Lk)("table",Ct,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.statisticsData,((e,t)=>((0,a.uX)(),(0,a.CE)("tr",{key:t},[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e,((e,t)=>((0,a.uX)(),(0,a.CE)("td",{key:t},(0,$.v_)(e),1)))),128))])))),128))])])):(0,a.Q3)("",!0),o.isLoading?((0,a.uX)(),(0,a.CE)("div",It,Et)):(0,a.Q3)("",!0)])}var $t={name:"VideoAnalysis",data(){return{actualSize:1,unit:"mm",timeSpan:1,flowDirection:"left-to-right",referenceLine:30,showVisualizationResults:!1,showStatisticalResults:!1,processedVideoUrl:"",modeDescriptions:[],selectedMode:this.$route.query.selectedMode||"",isLoading:!1,resultImageUrls:[]}},methods:{updateModeDescriptions(e=0,t=0){const i=this.$route.query.selectedMode,s=(e/this.timeSpan).toFixed(2),a=((e+t)/this.timeSpan).toFixed(2);this.modeDescriptions="Cell encapsulation"===i?[`Droplet with cell: ${e}`,`Droplet without cell: ${t}`,`Effective production rate: ${s}`,`Total production rate: ${a}`]:"Single-cell encapsulated"===i?[`Droplet with Single cell: ${e}`,`Droplet without cell: ${t}`,`Effective production rate: ${s}`,`Total production rate: ${a}`]:"Double emulsion"===i?[`Double emulsion droplets: ${e}`,`Single droplets: ${t}`,`Effective production rate: ${s}`,`Total production rate: ${a}`]:"Single droplet"===i?[`Single droplets: ${e}`,`Effective production rate: ${s}`,`Total production rate: ${a}`]:[],console.log("Updated modeDescriptions:",this.modeDescriptions)},updateParameters(){console.log(`Actual Size per Pixel: ${this.actualSize}, Unit: ${this.unit}`),console.log(`Real Time Span of the Video: ${this.timeSpan} seconds`),console.log(`Flow Direction: ${this.flowDirection}`),console.log(`Reference Line Location: ${this.referenceLine}`)},async visualizationResults(){this.isLoading=!0;const e={filename:this.$route.query.filename,selectedMode:this.$route.query.selectedMode,selectedAlgorithm:this.$route.query.selectedAlgorithm,actualSize:this.actualSize,unit:this.unit,timeSpan:this.timeSpan,flowDirection:this.flowDirection,referenceLine:this.referenceLine};try{const t=await Y.A.post("/api/video_visualize",e);console.log("API Response:",t.data);const i=t.data.withcount,s=t.data.withoutcount;this.processedVideoUrl=t.data.video_path,this.updateModeDescriptions(i,s),this.resultImageUrls=t.data.image_names,this.showVisualizationResults=!0}catch(t){console.error("Visualization failed:",t)}finally{this.isLoading=!1}},async statisticalResults(){this.isLoading=!0;const e={filename:this.$route.query.filename,actualSize:this.actualSize,unit:this.unit,timeSpan:this.timeSpan,flowDirection:this.flowDirection,referenceLine:this.referenceLine,selectedMode:this.$route.query.selectedMode,selectedAlgorithm:this.$route.query.selectedAlgorithm};try{const t=await Y.A.post("/api/video_statistics",e);console.log("API Response:",t.data);const i=t.data.withcount,s=t.data.withoutcount;this.statisticsData=t.data.statistics,this.updateModeDescriptions(i,s),this.showStatisticalResults=!0}catch(t){console.error("Statistics failed:",t)}finally{this.isLoading=!1}},goBack(){this.$router.push({name:"MachineIdentification"})},validateActualSize(){this.actualSize<.1&&(this.actualSize=.1)},validateTimeSpan(){this.timeSpan<.1&&(this.timeSpan=.1)},validateReferenceLine(){this.referenceLine<1?this.referenceLine=1:this.referenceLine>99&&(this.referenceLine=99)}}};const At=(0,r.A)($t,[["render",zt],["__scopeId","data-v-5b3b6066"]]);var Dt=At;const Ft=[{path:"/",name:"HomePage",component:z,props:!0},{path:"/machine-identification",name:"MachineIdentification",component:te,props:!0},{path:"/transfer-learning",name:"TransferLearning",component:de},{path:"/image-analysis",name:"ImageAnalysis",component:Be,props:!0},{path:"/video-analysis",name:"VideoAnalysis",component:Dt,props:!0}],Mt=(0,u.aE)({history:(0,u.LA)("/"),routes:Ft});var Rt=Mt;const Ut=(0,s.Ef)(d);Ut.use(Rt),Ut.mount("#app")}},t={};function i(s){var a=t[s];if(void 0!==a)return a.exports;var l=t[s]={exports:{}};return e[s].call(l.exports,l,l.exports,i),l.exports}i.m=e,function(){var e=[];i.O=function(t,s,a,l){if(!s){var o=1/0;for(d=0;d<e.length;d++){s=e[d][0],a=e[d][1],l=e[d][2];for(var n=!0,r=0;r<s.length;r++)(!1&l||o>=l)&&Object.keys(i.O).every((function(e){return i.O[e](s[r])}))?s.splice(r--,1):(n=!1,l<o&&(o=l));if(n){e.splice(d--,1);var c=a();void 0!==c&&(t=c)}}return t}l=l||0;for(var d=e.length;d>0&&e[d-1][2]>l;d--)e[d]=e[d-1];e[d]=[s,a,l]}}(),function(){i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,{a:t}),t}}(),function(){i.d=function(e,t){for(var s in t)i.o(t,s)&&!i.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};i.O.j=function(t){return 0===e[t]};var t=function(t,s){var a,l,o=s[0],n=s[1],r=s[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(a in n)i.o(n,a)&&(i.m[a]=n[a]);if(r)var d=r(i)}for(t&&t(s);c<o.length;c++)l=o[c],i.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return i.O(d)},s=self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=i.O(void 0,[504],(function(){return i(9218)}));s=i.O(s)})();
//# sourceMappingURL=app.7ed8998d.js.map